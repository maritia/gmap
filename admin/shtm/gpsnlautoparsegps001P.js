<!-- author, publisher, copyright ARiS websitewerk - www.websitewerk.nl-->
function checkchar(a){if("N"==a||"E"==a||"n"==a||"e"==a||"O"==a||"o"==a)return"signpositive";if("S"==a||"W"==a||"s"==a||"w"==a||"Z"==a||"z"==a||"-"==a||"_"==a)return"signnegative";if("0"==a||"1"==a||"2"==a||"3"==a||"4"==a||"5"==a||"6"==a||"7"==a||"8"==a||"9"==a)return"value";if(" "==a)return"space";if("."==a)return"point";if(","==a)return"comma"}
function latlongauto(a){long3last=long3first=long2last=long2first=long1last=long1first=lat3last=lat3first=lat2last=lat2first=lat1last=lat1first=0;state="start";longtype=lattype="unknown";longfactor=latfactor=1;for(index=0;index<a.length&&51>index&&"longready"!=state;)result=checkchar(a.substr(index,1)),"start"==state?("signnegative"==result&&(latfactor=-1),"value"==result&&(state="lat1found",lat1first=index)):"lat1found"==state?("point"==result&&(lattype="D"),"value"!=result&&"point"!=result&&(state=
"D"==lattype||"comma"==result?"latready":"lat1ready",lat1last=index-1)):"lat1ready"==state?"value"==result&&(state="lat2found",lat2first=index):"lat2found"==state?("point"==result&&(lattype="M"),"value"!=result&&"point"!=result&&(state="M"==lattype||"comma"==result?"latready":"lat2ready",lat2last=index-1)):"lat2ready"==state?"value"==result&&(state="lat3found",lat3first=index):"lat3found"==state?("point"==result&&(lattype="S"),"value"!=result&&"point"!=result&&(state="latready",lat3last=index-1)):
"latready"==state?("signnegative"==result&&(longfactor=-1),"value"==result&&(index==a.length-1?(state="longready",long1last=long1first=index):(state="long1found",long1first=index))):"long1found"==state?("point"==result&&(longtype="D"),"value"!=result&&"point"!=result?(state="D"==longtype?"longready":"long1ready",long1last=index-1):index==a.length-1&&(state="longready",long1last=index)):"long1ready"==state?"value"==result&&(state="long2found",long2first=index):"long2found"==state?("point"==result&&
(longtype="M"),"value"!=result&&"point"!=result?(state="M"==longtype?"longready":"long2ready",long2last=index-1):index==a.length-1&&(state="longready",long2last=index)):"long2ready"==state&&"value"==result&&(state="long3found",long3first=index),"long3found"==state&&("value"!=result&&"point"!=result?(state="longready",long3last=index-1):index==a.length-1&&(state="longready",long3last=index)),index++;"longready"==state&&(newlatitude=parseFloat(a.substr(lat1first,lat1last-lat1first+1)),0!=lat2first&&
0!=lat2last&&(minutes=parseFloat(a.substr(lat2first,lat2last-lat2first+1)),60<=minutes?state="error":newlatitude+=minutes/60),0!=lat3first&&0!=lat3last&&(seconds=parseFloat(a.substr(lat3first,lat3last-lat3first+1)),60<=seconds?state="error":newlatitude+=seconds/3600),newlongitude=parseFloat(a.substr(long1first,long1last-long1first+1)),0!=long2first&&0!=long2last&&(minutes=parseFloat(a.substr(long2first,long2last-long2first+1)),60<=minutes?state="error":newlongitude+=minutes/60),0!=long3first&&0!=
long3last&&(seconds=parseFloat(a.substr(long3first,long3last-long3first+1)),60<=seconds?state="error":newlongitude+=seconds/3600));if("error"==state)document.getElementById("latlong").value="ongeldige invoer";else if("longready"!=state)document.getElementById("latlong").value="onbekend formaat";else if(storedlat=latitude,storedlng=longitude,latitude=newlatitude*latfactor,longitude=newlongitude*longfactor,-7E3<latitude&&3E5>latitude&&289E3<longitude&&629E3>longitude&&(myX=latitude,myY=longitude,latitude=
RD2lat(myX,myY),longitude=RD2lng(myX,myY)),-180>latitude||180<latitude||0>longitude||360<longitude)document.getElementById("latlong").value="buiten bereik",latitude=storedlat,longitude=storedlng};